# PhotoWaterMark CLI工具产品需求文档(PRD)

## 1. 概述
PhotoWaterMark是一个Python命令行应用程序，用于根据图像的EXIF元数据向图片添加文本水印。该工具从图像EXIF数据中提取拍摄日期，并将其作为水印添加到图像上。

## 2. 功能特性

### 2.1 核心功能
- 读取指定目录下的图像文件
- 从EXIF元数据中提取拍摄日期
- 添加包含拍摄日期的文本水印(格式为YYYY-MM-DD)
- 将添加水印的图像保存到新的子目录中

### 2.2 用户自定义选项
- 字体大小设置
- 字体颜色设置
- 水印位置设置:
  - 左上角
  - 居中
  - 右下角

### 2.3 文件管理
- 处理目录中的所有图像
- 创建名为"[原目录名]_watermark"的输出目录
- 在新目录中保存添加水印的图像

## 3. 技术要求

### 3.1 输入参数
- 包含图像文件的目录路径
- 可选参数:
  - 字体大小 (默认值: 24)
  - 字体颜色 (默认值: 黑色)
  - 水印位置 (默认值: 右下角)

### 3.2 支持的图像格式
- JPEG (主要支持格式)
- PNG (次要支持格式)
- 其他常见格式(如可行)

### 3.3 输出结果
- 新建名为"[原始目录名]_watermark"的目录
- 保存添加水印的图像，保持原始文件名
- 水印文本格式: YYYY-MM-DD (从EXIF中提取)

## 4. 用户界面
命令行界面，语法如下:
```
python photowatermark.py [目录路径] [选项参数]

选项参数:
  --font-size <大小>     水印字体大小 (默认值: 24)
  --font-color <颜色>    水印字体颜色 (默认值: black)
  --position <位置>      水印位置: topLeft, center, bottomRight (默认值: bottomRight)
```

## 5. 错误处理
- 无效的目录路径
- 缺失的EXIF数据
- 不支持的图像格式
- 文件读写权限问题
- 图像处理时内存不足

## 6. 依赖项
- Python 3.6 或更高版本
- 图像处理库 (待定)
- EXIF元数据提取库 (待定)